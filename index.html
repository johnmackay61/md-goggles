<!DOCTYPE html>
<html>
  <head>
    <title>MD Goggles</title>
  </head>
  <script>
    let file = window.location.hash.substr(1);
    fetch (file)
      .then(x => x.text())
      .then(y => document.getElementById("content").innerHTML = y);
    
    function parseMarkdown(markdownText) {
    const htmlText = markdownText
    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
    .replace(/^# (.*$)/gim, '<h1>$1</h1>')
    .replace(/^\> (.*$)/gim, '<blockquote>$1</blockquote>')
    .replace(/\*\*(.*)\*\*/gim, '<b>$1</b>')
    .replace(/\*(.*)\*/gim, '<i>$1</i>')
    .replace(/!\[(.*?)\]\((.*?)\)/gim, "<img alt='$1' src='$2' />")
    .replace(/\[(.*?)\]\((.*?)\)/gim, "<a href='$2'>$1</a>")
    .replace(/\n$/gim, '<br />')
    
    return htmlText.trim()
    }
  </script>
  <body onload="parseMarkdown">
    <p>Menu bar goes here...</p>
    <div id="content">
    <script>document.write(parseMarkdown(text))</script>
    </div>
    <p>Footer goes here...</p>
  </body>
</html>
